<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>US WEI</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: skyblue;
      font-family: Arial, sans-serif;
    }
    h1 { color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.4); }
    form {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      text-align: center;
      margin-bottom: 15px;
    }
    input { padding: 8px; margin: 10px; border: 1px solid #ccc; border-radius: 5px; }
    button { padding: 10px 20px; border: none; border-radius: 5px; background: dodgerblue; color: white; font-size: 16px; cursor: pointer; }
    .ballon {
      position: absolute;
      width: 40px;
      height: 50px;
      border-radius: 50%;
      animation: float 10s infinite ease-in-out;
      opacity: 0.8;
    }
    @keyframes float {
      from { transform: translateY(100vh) scale(1); }
      to { transform: translateY(-120vh) scale(1.2); }
    }
  </style>
</head>
<body>
  <h1>US WEI</h1>

  <form id="partyForm">
    <label for="code">Entrez votre code rÃ¨glement :</label><br>
    <input type="password" id="code" required>
    <br>
    <button type="submit">Valider</button>
    <p id="message"></p>
  </form>

  <script>
    // ðŸ”‘ Code utilisateur (encodÃ© en base64)
    const codeUserEncoded = "MTQ4NjUy"; // 148652
    function decode(str) { return atob(str); }

    const REDIRECT_URL = "https://www.helloasso.com/associations/tribu-ensae/evenements/wer-ensae-2025";

    document.getElementById("partyForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let code = document.getElementById("code").value.trim();
      let message = document.getElementById("message");

      if (code === decode(codeUserEncoded)) {
        window.location.href = REDIRECT_URL;
      } else {
        message.textContent = "Code incorrect. RÃ©essayez.";
      }
    });

    // ðŸŽˆ Ballons animÃ©s
    for (let i = 0; i < 20; i++) {
      let ballon = document.createElement("div");
      ballon.className = "ballon";
      ballon.style.left = Math.random() * 100 + "vw";
      ballon.style.background = `radial-gradient(circle at 30% 30%, white, hsl(${Math.random()*360}, 80%, 60%))`;
      ballon.style.animationDuration = (8 + Math.random()*5) + "s";
      document.body.appendChild(ballon);
    }
  </script>
</body>
</html>
